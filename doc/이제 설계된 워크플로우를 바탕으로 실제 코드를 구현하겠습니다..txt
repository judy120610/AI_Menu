ì´ì œ ì„¤ê³„ëœ ì›Œí¬í”Œë¡œìš°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤. ì´ ì½”ë“œëŠ” **Streamlit**ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, AI ë©”ë‰´ ì¶”ì²œ ê¸°ëŠ¥ì„ ìœ„í•´ **OpenAI API**ë¥¼ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. (API í‚¤ê°€ ì—†ë”ë¼ë„ UI íë¦„ì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ë¡œì§ì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.)

### 1. requirements.txt
í”„ë¡œì íŠ¸ ì‹¤í–‰ì„ ìœ„í•´ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡ì…ë‹ˆë‹¤.
```text
streamlit
openai
pandas
```

### 2. main.py (Streamlit ì•± ì½”ë“œ)

```python
import streamlit as st
import pandas as pd
from openai import OpenAI

# 1. ì´ˆê¸° ì„¸ì…˜ ìƒíƒœ ì„¤ì •
if 'ingredients' not in st.session_state:
    st.session_state.ingredients = {
        "ìƒì„ ": ["ì—°ì–´", "ì˜¤ì§•ì–´"],
        "ê³ ê¸°": ["ì‚¼ê²¹ì‚´", "ì°¨ëŒë°•ì´", "ë¶ˆê³ ê¸°"],
        "ì•¼ì±„": ["ì–‘íŒŒ", "ë²„ì„¯", "ë‹¹ê·¼"],
        "ëƒ‰ë™": ["ë„ˆê²Ÿ", "ë§Œë‘", "íŠ€ê¹€"],
        "ê¸°íƒ€": ["í–„", "ì¹˜ì¦ˆ", "ì§„ë¯¸ì±„"]
    }
if 'selected_ingredients' not in st.session_state:
    st.session_state.selected_ingredients = set()
if 'custom_reqs' not in st.session_state:
    st.session_state.custom_reqs = ["ë§¤ìš´ìŒì‹ X", "ì‹œì›í•œ ìš”ë¦¬ ì„ í˜¸", "ëœ¨ê±°ìš´ ìš”ë¦¬ ì„ í˜¸"]
if 'selected_reqs' not in st.session_state:
    st.session_state.selected_reqs = []
if 'generated_menu' not in st.session_state:
    st.session_state.generated_menu = None
if 'final_plan' not in st.session_state:
    st.session_state.final_plan = {}

# --- ì•± íƒ€ì´í‹€ ë° ìƒë‹¨ ---
st.title("ğŸ³ ë°©í•™ ë©”ë‰´ ì¶”ì²œ ì„œë¹„ìŠ¤")
st.subheader("ì§‘ì— ìˆëŠ” ì¬ë£Œë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”")

# --- ì¬ë£Œ ì¶”ê°€í•˜ê¸° ì˜ì—­ ---
with st.expander("â• ìƒˆ ì¬ë£Œ ì¶”ê°€í•˜ê¸°", expanded=False):
    col1, col2, col3 = st.columns([2, 3, 1])
    with col1:
        new_cat = st.selectbox("ì¢…ë¥˜", list(st.session_state.ingredients.keys()))
    with col2:
        new_item = st.text_input("ì¬ë£Œëª…", placeholder="ì˜ˆ: ì†Œì‹œì§€")
    with col3:
        if st.button("ì¶”ê°€"):
            if new_item and new_item not in st.session_state.ingredients[new_cat]:
                st.session_state.ingredients[new_cat].append(new_item)
                st.rerun()

# --- ì¬ë£Œ ì„ íƒ ê·¸ë¦¬ë“œ (ì´ë¯¸ì§€ ë ˆì´ì•„ì›ƒ ì¬í˜„) ---
cols = st.columns(len(st.session_state.ingredients) + 1)
for i, (category, items) in enumerate(st.session_state.ingredients.items()):
    with cols[i]:
        st.bold(f"**{category}**")
        for item in items:
            # ì„ íƒ ì—¬ë¶€ì— ë”°ë¼ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½ (Primary/Secondary)
            is_selected = item in st.session_state.selected_ingredients
            if st.button(item, key=f"btn_{item}", type="primary" if is_selected else "secondary"):
                if is_selected:
                    st.session_state.selected_ingredients.remove(item)
                else:
                    st.session_state.selected_ingredients.add(item)
                st.rerun()

# --- ìš”êµ¬ì‚¬í•­ ì˜ì—­ ---
with cols[-1]:
    st.bold("**ìš”êµ¬ì‚¬í•­**")
    for req in st.session_state.custom_reqs:
        if st.checkbox(req, key=f"req_{req}"):
            if req not in st.session_state.selected_reqs:
                st.session_state.selected_reqs.append(req)
    
    # ìš”êµ¬ì‚¬í•­ ì§ì ‘ ì¶”ê°€
    new_req = st.text_input("ìš”êµ¬ì‚¬í•­ ì§ì ‘ ì…ë ¥", key="new_req_input")
    if st.button("ìš”êµ¬ì‚¬í•­ ì¶”ê°€"):
        if new_req and new_req not in st.session_state.custom_reqs:
            st.session_state.custom_reqs.append(new_req)
            st.rerun()

st.divider()

# --- ë©”ë‰´ ìƒì„± ë¡œì§ ---
if st.button("ğŸš€ ë©”ë‰´ ìƒì„±í•˜ê¸°", type="primary"):
    if not st.session_state.selected_ingredients:
        st.warning("ì¬ë£Œë¥¼ ìµœì†Œ í•˜ë‚˜ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”.")
    else:
        with st.spinner("ëƒ‰ì¥ê³ ë¥¼ í„¸ì–´ ë©”ë‰´ë¥¼ êµ¬ì„± ì¤‘ì…ë‹ˆë‹¤..."):
            # ì‹¤ì œ êµ¬í˜„ ì‹œ OpenAI API í˜¸ì¶œ ë¶€ë¶„ (ì—¬ê¸°ì„œëŠ” êµ¬ì¡°í™”ë¥¼ ìœ„í•´ Mock ë°ì´í„° ì‚¬ìš©)
            # í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ: "ì„ íƒëœ ì¬ë£Œ: {selected}, ìš”êµ¬ì‚¬í•­: {reqs}ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì›”~ê¸ˆ ë©”ë‰´ 3ê°œì”© ì¶”ì²œí•´ì¤˜"
            mock_data = {
                "ì›”": ["ê¹€ì¹˜ë³¶ìŒë°¥", "ë‹¹ê·¼ íŒŒìŠ¤íƒ€", "ì°¨ëŒ ìˆ™ì£¼ ë³¶ìŒ"],
                "í™”": ["ì˜¤ì§•ì–´ ë³¶ìŒë°¥", "ë§Œë‘£êµ­", "ë²„ì„¯ ë³¶ìŒ"],
                "ìˆ˜": ["ì—°ì–´ ìŠ¤í…Œì´í¬", "ëœì¥ì°Œê°œ", "ë„ˆê²Ÿ ìƒëŸ¬ë“œ"],
                "ëª©": ["ì°¨ëŒ ì§¬ë½•", "í–„ ì¹˜ì¦ˆ í† ìŠ¤íŠ¸", "ì§„ë¯¸ì±„ ê¹€ë°¥"],
                "ê¸ˆ": ["ì˜¤ì§•ì–´ íŠ€ê¹€", "ë¶ˆê³ ê¸° ë®ë°¥", "ì•¼ì±„ ì¹´ë ˆ"]
            }
            st.session_state.generated_menu = mock_data
            st.success("ë©”ë‰´ ì¶”ì²œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!")

# --- ë©”ë‰´ í™•ì • í™”ë©´ (í™”ë©´ 2) ---
if st.session_state.generated_menu:
    st.header("ì´ë²ˆ ì£¼ í›„ë³´ ë©”ë‰´")
    st.write("ìš”ì¼ë³„ë¡œ ê°€ì¥ ë§ˆìŒì— ë“œëŠ” ë©”ë‰´ë¥¼ í•˜ë‚˜ì”© ê³¨ë¼ì£¼ì„¸ìš”.")
    
    days = ["ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ"]
    selection_cols = st.columns(5)
    
    selected_weekly = {}
    for i, day in enumerate(days):
        with selection_cols[i]:
            st.subheader(day)
            options = st.session_state.generated_menu[day]
            selected_weekly[day] = st.radio(f"{day}ìš”ì¼ ì„ íƒ", options, label_visibility="collapsed", key=f"select_{day}")

    if st.button("âœ… ë©”ë‰´ í™•ì •í•˜ê¸°"):
        st.session_state.final_plan = selected_weekly
        st.balloons()

# --- ìµœì¢… ê²°ê³¼ ë° ë ˆì‹œí”¼ ì¶œë ¥ ---
if st.session_state.final_plan:
    st.divider()
    st.header("ğŸ“… ì´ë²ˆ ì£¼ ë©”ë‰´ í™•ì •ë³¸")
    
    # ì‹ë‹¨í‘œ ì¶œë ¥
    df_plan = pd.DataFrame([st.session_state.final_plan])
    st.table(df_plan)
    
    st.header("ğŸ‘¨â€ğŸ³ ìƒì„¸ ë ˆì‹œí”¼")
    for day, menu in st.session_state.final_plan.items():
        with st.expander(f"{day}: {menu} ë ˆì‹œí”¼"):
            st.write(f"**ì¬ë£Œ:** {', '.join(list(st.session_state.selected_ingredients)[:3])} ë“±")
            st.write("**ìš”ë¦¬ ë°©ë²•:**")
            st.write("1. ì¬ë£Œë¥¼ ê¹¨ë—ì´ ì”»ì–´ ì†ì§ˆí•©ë‹ˆë‹¤.")
            st.write(f"2. {menu}ì˜ í•µì‹¬ ì¬ë£Œë¥¼ ë¨¼ì € ë³¶ìŠµë‹ˆë‹¤.")
            st.write("3. ê°„ì„ ë§ì¶”ê³  ë§›ìˆê²Œ ì¡°ë¦¬í•˜ì—¬ ì™„ì„±í•©ë‹ˆë‹¤.")

```

### 3. ì£¼ìš” êµ¬í˜„ íŠ¹ì§• ì„¤ëª…

1.  **ë™ì  ë²„íŠ¼ (í† ê¸€ ê¸°ëŠ¥)**:
    *   ì´ë¯¸ì§€ì—ì„œ ìš”êµ¬í•˜ì‹  ëŒ€ë¡œ í´ë¦­ ì‹œ ìƒ‰ìƒì´ ë³€í•˜ë„ë¡ `type="primary"`ì™€ `secondary`ë¥¼ `st.session_state.selected_ingredients`ì™€ ì—°ë™í–ˆìŠµë‹ˆë‹¤. í´ë¦­í•˜ë©´ ì¦‰ì‹œ ìƒíƒœê°€ ë°˜ì˜ë©ë‹ˆë‹¤.
2.  **ë°ì´í„° ê´€ë¦¬**:
    *   `st.session_state`ë¥¼ ì ê·¹ í™œìš©í•˜ì—¬ ì¬ë£Œ ì¶”ê°€, ë©”ë‰´ ìƒì„±, ìµœì¢… í™•ì • ë‹¨ê³„ì—ì„œë„ ë°ì´í„°ê°€ ìœ ì‹¤ë˜ì§€ ì•Šë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
3.  **ìš”êµ¬ì‚¬í•­ ì¶”ê°€ ê¸°ëŠ¥**:
    *   ì‚¬ìš©ìê°€ ì§ì ‘ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ ìš”êµ¬ì‚¬í•­ ë¦¬ìŠ¤íŠ¸ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ìš°ì¸¡ ì»¬ëŸ¼ì— ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤.
4.  **UI ë ˆì´ì•„ì›ƒ**:
    *   `st.columns`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ì™€ ìœ ì‚¬í•˜ê²Œ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì •ë ¬ëœ ê·¸ë¦¬ë“œ UIë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
5.  **í™•ì • í›„ ë ˆì‹œí”¼ ì¶œë ¥**:
    *   ë©”ë‰´ë¥¼ í™•ì •í•˜ë©´ `st.table`ë¡œ ê¹”ë”í•˜ê²Œ ìš”ì•½í•´ì£¼ê³ , í•˜ë‹¨ì— `st.expander`ë¥¼ ì´ìš©í•´ ê° ë©”ë‰´ì˜ ë ˆì‹œí”¼ë¥¼ ìƒì„¸íˆ ë³¼ ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

### 4. ì‹¤í–‰ ë°©ë²•
1.  Pythonì´ ì„¤ì¹˜ëœ í™˜ê²½ì—ì„œ `pip install streamlit openai pandas`ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
2.  ìœ„ì˜ `main.py` ë‚´ìš©ì„ íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.
3.  í„°ë¯¸ë„ì—ì„œ `streamlit run main.py`ë¥¼ ì…ë ¥í•˜ë©´ ì›¹ ë¸Œë¼ìš°ì €ê°€ ì—´ë¦¬ë©° ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

*ì°¸ê³ : ì‹¤ì œ AI ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ë ¤ë©´ OpenAI API í‚¤ë¥¼ ì„¤ì •í•˜ê³  Mock ë°ì´í„° ë¶€ë¶„ì„ `client.chat.completions.create` í•¨ìˆ˜ë¡œ ëŒ€ì²´í•˜ë©´ ë©ë‹ˆë‹¤.*